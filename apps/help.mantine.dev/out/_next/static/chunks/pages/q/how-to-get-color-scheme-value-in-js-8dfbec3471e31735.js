(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8557],{8113:function(e,o,t){"use strict";t.d(o,{Z:function(){return n}});var n=(0,t(99882).Z)("arrow-left","IconArrowLeft",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]])},74691:function(e,o,t){"use strict";t.d(o,{Z:function(){return n}});var n=(0,t(99882).Z)("bug","IconBug",[["path",{d:"M9 9v-1a3 3 0 0 1 6 0v1",key:"svg-0"}],["path",{d:"M8 9h8a6 6 0 0 1 1 3v3a5 5 0 0 1 -10 0v-3a6 6 0 0 1 1 -3",key:"svg-1"}],["path",{d:"M3 13l4 0",key:"svg-2"}],["path",{d:"M17 13l4 0",key:"svg-3"}],["path",{d:"M12 20l0 -6",key:"svg-4"}],["path",{d:"M4 19l3.35 -2",key:"svg-5"}],["path",{d:"M20 19l-3.35 -2",key:"svg-6"}],["path",{d:"M4 7l3.75 2.4",key:"svg-7"}],["path",{d:"M20 7l-3.75 2.4",key:"svg-8"}]])},23856:function(e,o,t){"use strict";t.d(o,{Z:function(){return n}});var n=(0,t(99882).Z)("info-circle","IconInfoCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]])},31650:function(e,o,t){"use strict";t.d(o,{Z:function(){return n}});var n=(0,t(99882).Z)("list","IconList",[["path",{d:"M9 6l11 0",key:"svg-0"}],["path",{d:"M9 12l11 0",key:"svg-1"}],["path",{d:"M9 18l11 0",key:"svg-2"}],["path",{d:"M5 6l0 .01",key:"svg-3"}],["path",{d:"M5 12l0 .01",key:"svg-4"}],["path",{d:"M5 18l0 .01",key:"svg-5"}]])},62655:function(e,o,t){"use strict";t.d(o,{Z:function(){return n}});var n=(0,t(99882).Z)("pencil","IconPencil",[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]])},12446:function(e,o,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/q/how-to-get-color-scheme-value-in-js",function(){return t(46831)}])},46831:function(e,o,t){"use strict";t.r(o),t.d(o,{default:function(){return d},meta:function(){return l}});var n=t(52322),r=t(34665);t(2784);var c=t(17115);let i={type:"code",component:function(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.z,{color:"cyan",lightHidden:!0,children:"Visible in dark color scheme only"}),(0,n.jsx)(c.z,{color:"pink",darkHidden:!0,children:"Visible in light color scheme only"})]})},code:'\nimport { Button } from \'@mantine/core\';\n\nfunction Demo() {\n  return (\n    <>\n      <Button color="cyan" lightHidden>\n        Visible in dark color scheme only\n      </Button>\n\n      <Button color="pink" darkHidden>\n        Visible in light color scheme only\n      </Button>\n    </>\n  );\n}\n',centered:!0};var s=t(21938);let l={title:"How can I get current color scheme value in JavaScript?",description:"How to use useMantineColorScheme and useComputedColorScheme hooks to get current color scheme value in JavaScript",slug:"how-to-get-color-scheme-value-in-js",category:"styles",tags:["color scheme","useMantineColorScheme","useComputedColorScheme"],created_at:"December 27, 2023",last_updated_at:"December 27, 2023"},a=(0,s.A)(l);function u(e){let o={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,r.a)(),...e.components},{Demo:t}=o;return t||function(e,o){throw Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Demo",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.h2,{id:"get-color-scheme-value-in-component",children:"Get color scheme value in component"}),"\n",(0,n.jsxs)(o.p,{children:["To get color scheme value in component use ",(0,n.jsx)(o.code,{children:"useMantineColorScheme"})," hook:"]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-tsx",children:"import { useMantineColorScheme } from '@mantine/core';\n\nfunction Demo() {\n  // colorScheme is `'dark' | 'light' | 'auto'`\n  const { colorScheme } = useMantineColorScheme();\n}\n"})}),"\n",(0,n.jsxs)(o.p,{children:["If you want to get computed color scheme, use ",(0,n.jsx)(o.code,{children:"useComputedColorScheme"})," hook instead.\nIt will resolve ",(0,n.jsx)(o.code,{children:"auto"})," value to ",(0,n.jsx)(o.code,{children:"dark"})," or ",(0,n.jsx)(o.code,{children:"light"})," based on user preferences:"]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-tsx",children:"import { useComputedColorScheme } from '@mantine/core';\n\nfunction Demo() {\n  // colorScheme is `'dark' | 'light'`\n  const colorScheme = useComputedColorScheme();\n}\n"})}),"\n",(0,n.jsxs)(o.p,{children:["Note that both hooks are using ",(0,n.jsx)(o.code,{children:"localStorage"})," to store color scheme value.\nIt is not possible to get color scheme value on the server side – the value\nwill always fallback to ",(0,n.jsx)(o.code,{children:"light"})," during SSR."]}),"\n",(0,n.jsx)(o.h2,{id:"get-color-scheme-value-outside-of-component",children:"Get color scheme value outside of component"}),"\n",(0,n.jsxs)(o.p,{children:["To get color scheme value outside of component, create an utility function\nthat will parse color scheme value from ",(0,n.jsx)(o.code,{children:"data-mantine-color-scheme"})," attribute:"]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-tsx",children:"import { MantineColorScheme } from '@mantine/core';\n\nexport function getColorScheme() {\n  return document.documentElement.getAttribute(\n    'data-mantine-color-scheme'\n  ) as MantineColorScheme;\n}\n"})}),"\n",(0,n.jsx)(o.p,{children:"Then use it in any place of your application:"}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-tsx",children:"import { getColorScheme } from './getColorScheme';\n\nconst colorScheme = getColorScheme();\n"})}),"\n",(0,n.jsx)(o.p,{children:"Note that this approach will not work on the server side."}),"\n",(0,n.jsx)(o.h2,{id:"i-want-to-hideshow-some-elements-based-on-color-scheme-value",children:"I want to hide/show some elements based on color scheme value"}),"\n",(0,n.jsx)(o.p,{children:"Using the approaches described above to get color scheme value is not compatible with SSR.\nFor example, if you want to conditionally render some elements based on color scheme value,\nyou will get hydration mismatch or other error:"}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-tsx",children:"import { useComputedColorScheme } from '@mantine/core';\nimport { getColorScheme } from './getColorScheme';\n\n// ❌ Not compatible with SSR\nfunction Demo() {\n  const colorScheme = useComputedColorScheme();\n\n  return (\n    <div>\n      {colorScheme === 'dark' && <div>Dark mode</div>}\n      {getColorScheme() === 'light' && <div>Light mode</div>}\n    </div>\n  );\n}\n"})}),"\n",(0,n.jsxs)(o.p,{children:["Instead of relying on JavaScript code to hide/show elements,\nrender both elements and hide them with styles based on color scheme value\nusing ",(0,n.jsx)(o.code,{children:"data-mantine-color-scheme"})," attribute. All Mantine components have\n",(0,n.jsx)(o.code,{children:"lightHidden"})," and ",(0,n.jsx)(o.code,{children:"darkHidden"})," props that hide element based on color scheme value.\nYou can also use ",(0,n.jsx)(o.a,{href:"https://mantine.dev/theming/color-schemes/#color-scheme-value-caveats",children:"light/dark mixins"}),"\nor ",(0,n.jsx)(o.code,{children:"light-dark"})," function from ",(0,n.jsx)(o.a,{href:"https://mantine.dev/styles/postcss-preset/",children:"postcss-preset-mantine"}),"\nto hide elements based on color scheme value."]}),"\n",(0,n.jsx)(t,{data:i})]})}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.jsx)(a,{...e,children:(0,n.jsx)(u,{...e})})}},5632:function(e,o,t){e.exports=t(65123)},34406:function(e){var o,t,n,r=e.exports={};function c(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function s(e){if(o===setTimeout)return setTimeout(e,0);if((o===c||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:c}catch(e){o=c}try{t="function"==typeof clearTimeout?clearTimeout:i}catch(e){t=i}}();var l=[],a=!1,u=-1;function d(){a&&n&&(a=!1,n.length?l=n.concat(l):u=-1,l.length&&h())}function h(){if(!a){var e=s(d);a=!0;for(var o=l.length;o;){for(n=l,l=[];++u<o;)n&&n[u].run();u=-1,o=l.length}n=null,a=!1,function(e){if(t===clearTimeout)return clearTimeout(e);if((t===i||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(e);try{t(e)}catch(o){try{return t.call(null,e)}catch(o){return t.call(this,e)}}}(e)}}function m(e,o){this.fun=e,this.array=o}function p(){}r.nextTick=function(e){var o=Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)o[t-1]=arguments[t];l.push(new m(e,o)),1!==l.length||a||s(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw Error("process.chdir is not supported")},r.umask=function(){return 0}},17115:function(e,o,t){"use strict";t.d(o,{z:function(){return j}});var n=t(2784),r=t(58898),c=t(91482),i=t(11200),s=t(38483),l=t(32188),a=t(44153),u=t(33502),d=t(12491),h=t(48407),m=t(63409),p=t(82027),v={root:"m-77c9d27d",inner:"m-80f1301b",label:"m-811560b9",section:"m-a74036a",loader:"m-a25b86ee",group:"m-80d6d844"};let g={orientation:"horizontal"},f=(0,i.Z)((e,{borderWidth:o})=>({group:{"--button-border-width":(0,r.h)(o)}})),y=(0,p.d)((e,o)=>{let t=(0,s.w)("ButtonGroup",g,e),{className:r,style:c,classNames:i,styles:u,unstyled:d,orientation:h,vars:m,borderWidth:p,variant:y,mod:b,...x}=(0,s.w)("ButtonGroup",g,e),k=(0,l.y)({name:"ButtonGroup",props:t,classes:v,className:r,style:c,classNames:i,styles:u,unstyled:d,vars:m,varsResolver:f,rootSelector:"group"});return n.createElement(a.x,{...k("group"),ref:o,variant:y,mod:[{"data-orientation":h},b],role:"group",...x})});y.classes=v,y.displayName="@mantine/core/ButtonGroup";let b={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${(0,r.h)(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},x={},k=(0,i.Z)((e,{radius:o,color:t,gradient:n,variant:r,size:i,justify:s,autoContrast:l})=>{let a=e.variantColorResolver({color:t||e.primaryColor,theme:e,gradient:n,variant:r||"filled",autoContrast:l});return{root:{"--button-justify":s,"--button-height":(0,c.ap)(i,"button-height"),"--button-padding-x":(0,c.ap)(i,"button-padding-x"),"--button-fz":i?.includes("compact")?(0,c.yv)(i.replace("compact-","")):(0,c.yv)(i),"--button-radius":void 0===o?void 0:(0,c.H5)(o),"--button-bg":t||r?a.background:void 0,"--button-hover":t||r?a.hover:void 0,"--button-color":a.color,"--button-bd":t||r?a.border:void 0,"--button-hover-color":t||r?a.hoverColor:void 0}}}),j=(0,u.b)((e,o)=>{let t=(0,s.w)("Button",x,e),{style:r,vars:c,className:i,color:u,disabled:p,children:g,leftSection:f,rightSection:y,fullWidth:j,variant:w,radius:S,loading:C,loaderProps:M,gradient:T,classNames:E,styles:N,unstyled:_,"data-disabled":B,autoContrast:I,mod:Z,...H}=t,D=(0,l.y)({name:"Button",props:t,classes:v,className:i,style:r,classNames:E,styles:N,unstyled:_,vars:c,varsResolver:k}),L=!!f,G=!!y;return n.createElement(m.k,{ref:o,...D("root",{active:!p&&!C&&!B}),unstyled:_,variant:w,disabled:p||C,mod:[{disabled:p||B,loading:C,block:j,"with-left-section":L,"with-right-section":G},Z],...H},n.createElement(h.u,{mounted:!!C,transition:b,duration:150},e=>n.createElement(a.x,{component:"span",...D("loader",{style:e}),"aria-hidden":!0},n.createElement(d.a,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...M}))),n.createElement("span",{...D("inner")},f&&n.createElement(a.x,{component:"span",...D("section"),mod:{position:"left"}},f),n.createElement(a.x,{component:"span",mod:{loading:C},...D("label")},g),y&&n.createElement(a.x,{component:"span",...D("section"),mod:{position:"right"}},y)))});j.classes=v,j.displayName="@mantine/core/Button",j.Group=y}},function(e){e.O(0,[1466,9774,2888,179],function(){return e(e.s=12446)}),_N_E=e.O()}]);